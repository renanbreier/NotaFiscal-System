<div class="page-header">
    <h2>Item</h2>

    <app-add-button (click)="openRegisterPopup()"></app-add-button>
</div>

<app-popup-form
        [popupVisible]="popupVisible"
        [popupTitle]="isEdit ? 'Editar Item' : 'Cadastrar Item'"
        (closed)="closePopup()"
        (saved)="saveOrUpdateItem()">

    <div style="padding: 20px;">
        <dx-text-box
                label="Código"
                labelMode="floating"
                [showClearButton]="true"
                [(value)]="newItem.codigo">
        </dx-text-box>

        <dx-text-box
                label="Descrição"
                labelMode="floating"
                [showClearButton]="true"
                [(value)]="newItem.descricao">
        </dx-text-box>

        <dx-number-box
                label="Valor"
                labelMode="floating"
                [showClearButton]="true"
                [showSpinButtons]="true"
                [min]="0"
                format="R$ ###.##"
                [(value)]="newItem.valorUnitario">
        </dx-number-box>

    </div>

</app-popup-form>

<app-reusable-datagrid
        [dataSource]="item"
        [columns]="itemColumns"
        [showBorders]="true"
        [pageSize]="20"
        [keyField]="'id'"
        [showActions]="true"
        (actionClicked)="handleGridAction($event)">
</app-reusable-datagrid>